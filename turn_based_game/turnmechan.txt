這是一份更加詳盡的《賽爾號》回合流程解析，特別加入了**死亡判定（Death Check）**、**中斷機制（Interrupt Mechanics）**以及**結算時機（Timing of Settlement）**的深度細節。

在現代《賽爾號》的高端 PVP 中，**「精靈死亡」並不是回合的終點，而是一個觸發新流程的節點**。

---

### 核心概念：檢測點 (Checkpoints)
遊戲會在每一個微小的動作後進行**狀態檢測**。如果在任何一個檢測點發現精靈體力（HP）歸零，就會立即插入**死亡流程（Death Sequence）**，中斷原本的行動。

---

### 詳細回合流程 (Detailed Turn Flow)

#### 1. 準備階段 (Preparation Phase)
在玩家看到技能按鈕之前，系統已經在後台運算。

* **被動檢測 (Passive Check)：** 雙方**魂印 (Soul Bead)** 若有「回合開始時」觸發的效果，在此結算（如：清除對手強化、自動獲得護盾）。
* **異常狀態跳過判定 (Status Skip Check)：** 若精靈處於**睡眠 (Sleep)**、**麻痺 (Paralysis)**、**石化 (Petrification)** 等硬控狀態，系統標記該精靈本回合「無法操作」。

#### 2. 決策與優先級 (Decision & Priority Phase)
* **輸入指令 (Input Command)：** 雙方選擇技能、藥劑或更換精靈。
* **速度結算 (Speed Calculation)：**
    1.  **更換精靈 (Switch)**：優先級最高（除非遭遇特定攔截技能）。
    2.  **技能優先度 (Priority/Prempt)**：先制 +3 > 先制 +2。
    3.  **速度數值 (Speed Stat)**：同優先度下，速度高者先手。
    4.  **同速隨機 (Speed Tie)**：完全相同時隨機判定。

---

#### 3. 先手行動階段 (First Actor Phase)
假設精靈 A 為先手，精靈 B 為後手。

1.  **行動前觸發 (Pre-Move Trigger)：**
    * 檢測魂印/技能中「使用技能時」或「攻擊時」的效果（如：使對手當前體力減半）。
2.  **技能執行 (Skill Execution)：**
    * **命中判定 (Accuracy Check)**。
    * **傷害計算 (Damage Calculation)**：應用剋制、特攻/物攻、威力。
    * **實際扣血 (HP Reduction)**。
3.  **即時死亡檢測 (Immediate Death Check - First Pass)：**
    * **如果 B 的 HP 降至 0 或以下：**
        * **復活判定 (Revive Check)：** 檢查 B 是否有魂印/Buff 允許復活（如：重生 1 次，體力恢復至 100%）。
            * *若復活成功：* B 存活，戰鬥繼續。
            * *若無法復活：* **B 判定死亡 (Death Confirmed)**。
4.  **行動後觸發 (Post-Move Trigger)：**
    * 若 B 未死，觸發「攻擊結束後」的效果（如：吸血、反傷）。
    * **注意：** 若 B 因反傷（Recoil/Reflection）導致 A 的 HP 歸零，A 也會進入死亡檢測。

---

#### 4. 死亡中斷流程 (Death Interrupt Sequence)
**只有當某一方精靈被判定「死亡確認」時，才會插入此階段。**

* **亡語觸發 (Deathrattle/On-Death Effect)：**
    * 死亡精靈的魂印若有「死亡時觸發」的效果（如：下一隻出戰精靈必定先手、對手全屬性-1）。
* **行動權剝奪 (Action Forfeit)：**
    * 如果 **後手精靈 (B)** 在先手行動階段被打死，**B 本回合的行動直接取消**，無法出招。
* **更換精靈 (Switch-in)：**
    * 死亡方玩家彈出更換精靈視窗。
    * **注意：** 此時更換上場的精靈，在本回合**不會**再執行攻擊（除非特定機制），而是等待下一回合開始。

---

#### 5. 後手行動階段 (Second Actor Phase)
**前提：** 後手精靈 (B) 存活，且沒有處於被控制 (CC) 狀態。

1.  執行與先手相同的流程（行動前觸發 -> 傷害 -> 死亡檢測 -> 行動後觸發）。
2.  **反殺死亡檢測 (Counter-Kill Check)：**
    * 如果 B 的攻擊導致 A 死亡，A 進入**死亡中斷流程**（觸發 A 的亡語 -> A 玩家換人）。

---

#### 6. 回合結束結算 (End of Turn Phase)
無論本回合是否有人死亡，只要戰鬥未結束，都會執行此階段。

1.  **異常狀態結算 (Status Damage Tick)：**
    * 計算**燒傷 (Burn)**、**凍傷 (Frostbite)**、**中毒 (Poison)** 傷害。
    * *致命點：* 很多「殘血」精靈會撐過攻擊，但在這個階段因異常狀態傷害而死。這同樣會觸發死亡流程。
2.  **回合結束特效 (End-Turn Effects)：**
    * 觸發「回合結束時」的魂印/技能（如：若體力低於 1/3 則回滿、吸取對手體力）。
    * **順序問題：** 通常按照速度快慢順序結算，或者按照 Buff 施加的先後順序。
3.  **回合數倒計時 (Turn Counters)：**
    * 屬性強化 (Stat Buffs)、免疫異常盾 (Immunity Shield) 等持續回合數 -1。

---

### 死亡機制的特殊情況 (Special Cases in Death Mechanics)

為了讓你更清楚，這裡列出幾種常見的死亡情境：

| 情境 (Scenario) | 流程詳解 (Process Detail) |
| :--- | :--- |
| **直接擊殺 (Direct Kill)** | A 攻擊 -> B 體力歸零 -> B 無復活 -> **B 死亡** -> B 觸發亡語 -> B 玩家換人 -> **回合結束** (B 本回合無法動)。 |
| **復活反打 (Revive & Counter)** | A 攻擊 -> B 體力歸零 -> **B 觸發復活** (回到特定 HP) -> A 攻擊結束 -> **B 執行行動** (B 沒有死，可以反擊)。 |
| **同歸於盡 (Double KO)** | A 攻擊 B -> B 沒死但觸發「受傷反彈 (Reflect)」 -> A 受到反彈傷害體力歸零 -> **A 死亡** -> B 存活 -> **回合繼續** (B 若沒死則繼續行動，若 B 也因後續結算死亡則雙方換人)。 |
| **異常死 (Status Death)** | 雙方互毆完都沒死 -> 進入回合結束階段 -> B 受到 200 點燒傷傷害 -> B 體力歸零 -> **B 死亡** -> B 玩家下回合換人。 |

### 總結圖示 (Visual Logic)

$$
\text{回合開始} \rightarrow \text{速度判定} \rightarrow \text{先手攻擊}
$$

$$
\downarrow
$$

$$
\text{檢測：對手死了嗎？}
$$

* **YES ($\text{死亡}$)** $\rightarrow$ **觸發亡語** $\rightarrow$ **對手無法行動** $\rightarrow$ **換人** $\rightarrow$ **回合結束**
* **NO ($\text{存活}$)** $\rightarrow$ **後手攻擊** $\rightarrow$ **檢測：先手死了嗎？** $\rightarrow$ **回合結束結算**

---


