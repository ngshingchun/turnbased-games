# 宇宙战斗 (Cosmic Battle)

一个基于浏览器的回合制战斗游戏，包含多个独特精灵，每个精灵都有独特的技能和魂印效果。

## 特色

- 🎮 **多精灵对战** - 12个可玩精灵，各具特色的技能系统
- ✨ **魂印系统** - 每个精灵独特的被动/反应效果
- 💫 **丰富机制** - 状态效果、能力强化、护盾系统、先制系统
- 🎨 **现代UI** - 动态效果反馈、浮动文字、伤害数字
- ⚔️ **多种模式** - 单人对战CPU、双人本地对战

## 精灵列表

| 精灵名 | 魂印 | 特色 |
|--------|------|------|
| 王·盖亚 | 盖 | 反弹伤害、恢复体力、强化吸取 |
| 不灭·艾恩斯 | 火 | 首次致命残留1HP、火核回复、死亡反击 |
| 怒涛·沧岚 | 滴 | 水之护盾、未受伤回复、冰封控制 |
| 混沌魔君索伦森 | 源 | 能力同步、消除强化、混沌守护 |
| 星皇 | 星 | 星皇之怒追加攻击、全场回血、免疫弱化 |
| 重生之翼 | 翼 | 复活队友、登场回复 |
| 光之裁决英卡洛斯 | 光 | 先制+1、高/低伤判定、光之惩戒 |
| 圣王萨格罗斯 | 寰 | PP操控、秩序守恒、闪避反击 |
| 王·雷伊 | 雷 | 吸取强化、先出封属、满血恢复 |
| 圣机械盖亚 | 狂 | 拦截伤害、回合恢复、同归于尽存活 |
| 艾夏拉 | 时 | 常之罚先后手、常之悲亡语、睡眠控制 |

## 游戏模式

### 单人模式
- 选择你的精灵队伍（最多6只）
- 对战电脑控制的随机队伍
- 电脑会自动填充满6只精灵

### 双人对战
- 两名玩家轮流选择精灵
- 双方可以选择相同的精灵
- 本地同设备对战

## 如何游玩

1. 打开 `index.html` 启动游戏
2. 选择游戏模式（单人/双人）
3. 从精灵池中选择你的队伍
4. 战斗中使用技能攻击对手或强化自身
5. 注意先制顺序、状态效果和回合效果
6. 击败所有对手精灵获胜！

## 战斗系统

### 回合流程
1. **回合开始** - 触发回合开始效果
2. **先制计算** - 确定行动顺序
3. **技能使用** - 检查封锁/控制状态
4. **命中判定** - 免疫攻击/闪避检测
5. **伤害计算** - 应用倍率和抗性
6. **命中后** - 追加效果触发
7. **回合结束** - DOT/回复/效果递减
8. **死亡检测** - 残留HP/复活判定

### 伤害类型
- **普通伤害** (红色) - 受攻击和防御影响
- **固定/百分比伤害** (粉色) - 受抗性影响
- **真实伤害** (白色) - 无视所有抗性

### 效果类型
- **回合效果** (蓝色圆点) - 持续若干回合
- **次数效果** (红色圆点) - 触发若干次后消失
- **魂印效果** (金色) - 精灵特有的被动能力

## 开发

### 项目结构
```
├── game.js           # 核心游戏逻辑
├── index.html        # 游戏入口
├── style.css         # 样式表
├── effects/          # 效果模块
│   ├── hp_effect.js      # 伤害/治疗
│   ├── stat_effect.js    # 属性变化
│   ├── status_effect.js  # 异常状态
│   └── ...
├── spirits/          # 精灵定义
│   ├── registry.js       # 精灵注册
│   ├── agnes.js          # 不灭·艾恩斯
│   └── ...
├── turn_phases.js    # 回合阶段系统
├── soulbuff.js       # 魂印效果系统
├── turneffect.js     # 回合效果系统
└── counteffect.js    # 次数效果系统
```

### 技术栈
- 纯 JavaScript (Vanilla JS)
- HTML5
- CSS3

## License

MIT
